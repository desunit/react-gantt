"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const o=require("react/jsx-runtime"),e=require("react"),xe=require("@svar-ui/react-core"),ge=require("@svar-ui/lib-dom"),Oe=require("@svar-ui/gantt-locales"),Xe=require("@svar-ui/core-locales"),nt=require("@svar-ui/lib-state"),de=require("@svar-ui/gantt-store"),v=require("@svar-ui/lib-react"),Ze=require("@svar-ui/grid-store"),Je=require("@svar-ui/react-grid"),rt=require("react-dom"),Ye=require("@svar-ui/react-toolbar"),ot=require("@svar-ui/react-menu"),Ne=require("@svar-ui/react-editor"),Ie=e.createContext(null);function He(s){const n=s.getAttribute("data-id"),r=parseInt(n);return isNaN(r)||r.toString()!=n?n:r}function lt(s,n,r){const u=s.getBoundingClientRect(),c=n.querySelector(".wx-body").getBoundingClientRect();return{top:u.top-c.top,left:u.left-c.left,dt:u.bottom-r.clientY,db:r.clientY-u.top}}function Be(s){return s&&s.getAttribute("data-context-id")}const Qe=5;function ct(s,n){let r,u,c,R,l,T,p,k,d;function $(m){R=m.clientX,l=m.clientY,T={...lt(r,s,m),y:n.getTask(c).$y},document.body.style.userSelect="none"}function A(m){r=ge.locate(m),Be(r)&&(c=He(r),d=setTimeout(()=>{k=!0,n&&n.touchStart&&n.touchStart(),$(m.touches[0])},500),s.addEventListener("touchmove",N),s.addEventListener("contextmenu",j),window.addEventListener("touchend",Y))}function j(m){if(k||d)return m.preventDefault(),!1}function G(m){m.which===1&&(r=ge.locate(m),Be(r)&&(c=He(r),s.addEventListener("mousemove",V),window.addEventListener("mouseup",b),$(m)))}function a(m){s.removeEventListener("mousemove",V),s.removeEventListener("touchmove",N),document.body.removeEventListener("mouseup",b),document.body.removeEventListener("touchend",Y),document.body.style.userSelect="",m&&(s.removeEventListener("mousedown",G),s.removeEventListener("touchstart",A))}function L(m){const U=m.clientX-R,B=m.clientY-l;if(!u){if(Math.abs(U)<Qe&&Math.abs(B)<Qe||n&&n.start&&n.start({id:c,e:m})===!1)return;u=r.cloneNode(!0),u.style.pointerEvents="none",u.classList.add("wx-reorder-task"),u.style.position="absolute",u.style.left=T.left+"px",u.style.top=T.top+"px",r.style.visibility="hidden",r.parentNode.insertBefore(u,r)}if(u){const Z=Math.round(Math.max(0,T.top+B));if(n&&n.move&&n.move({id:c,top:Z,detail:p})===!1)return;const y=n.getTask(c),le=y.$y;if(!T.start&&T.y==le)return P();T.start=!0,T.y=y.$y-4,u.style.top=Z+"px";const q=document.elementFromPoint(m.clientX,m.clientY),C=ge.locate(q);if(C&&C!==r){const g=He(C),H=C.getBoundingClientRect(),ee=H.top+H.height/2,J=m.clientY+T.db>ee&&C.nextElementSibling!==r,te=m.clientY-T.dt<ee&&C.previousElementSibling!==r;p?.after==g||p?.before==g?p=null:J?p={id:c,after:g}:te&&(p={id:c,before:g})}}}function V(m){L(m)}function N(m){k?(m.preventDefault(),L(m.touches[0])):d&&(clearTimeout(d),d=null)}function Y(){k=null,d&&(clearTimeout(d),d=null),P()}function b(){P()}function P(){r&&(r.style.visibility=""),u&&(u.parentNode.removeChild(u),n&&n.end&&n.end({id:c,top:T.top})),c=r=u=T=p=null,a()}return s.style.position!=="absolute"&&(s.style.position="relative"),s.addEventListener("mousedown",G),s.addEventListener("touchstart",A),{destroy(){a(!0)}}}function it({row:s,column:n}){function r(c,R){return{justifyContent:R.align,paddingLeft:`${(c.$level-1)*20}px`}}const u=n&&n._cell;return o.jsxs("div",{className:"wx-pqc08MHU wx-content",style:r(s,n),children:[s.data||s.lazy?o.jsx("i",{className:`wx-pqc08MHU wx-toggle-icon wxi-menu-${s.open?"down":"right"}`,"data-action":"open-task"}):o.jsx("i",{className:"wx-pqc08MHU wx-toggle-placeholder"}),o.jsx("div",{className:"wx-pqc08MHU wx-text",children:u?o.jsx(u,{row:s,column:n}):s.text})]})}function Ue({column:s,cell:n}){const r=e.useMemo(()=>s.id,[s?.id]);return n||s.id=="add-task"?o.jsx("div",{style:{textAlign:s.align},children:o.jsx("i",{className:"wx-9DAESAHW wx-action-icon wxi-plus","data-action":r})}):null}function at(s){const{readonly:n,compactMode:r,width:u=0,display:c="all",columnWidth:R=0,onTableAPIChange:l,multiTaskRows:T=!1,rowMapping:p=null}=s,[k,d]=v.useWritableProp(R),[$,A]=e.useState(),j=e.useContext(xe.context.i18n),G=e.useMemo(()=>j.getGroup("gantt"),[j]),a=e.useContext(Ie),L=v.useStore(a,"scrollTop"),V=v.useStore(a,"cellHeight"),N=v.useStore(a,"_scrollTask"),Y=v.useStore(a,"_selected"),b=v.useStore(a,"area"),P=v.useStore(a,"_tasks"),m=v.useStore(a,"_scales"),U=v.useStore(a,"columns"),B=v.useStore(a,"_sort"),Z=v.useStore(a,"calendar"),y=v.useStore(a,"durationUnit"),le=v.useStore(a,"splitTasks"),[q,C]=e.useState(null),g=e.useMemo(()=>!P||!b?[]:P.slice(b.start,b.end),[P,b]),H=e.useCallback((i,w)=>{if(w==="add-task")a.exec(w,{target:i,task:{text:G("New Task")},mode:"child",show:!0});else if(w==="open-task"){const M=g.find(_=>_.id===i);(M?.data||M?.lazy)&&a.exec(w,{id:i,mode:!M.open})}},[g]),ee=e.useCallback(i=>{const w=ge.locateID(i),M=i.target.dataset.action;M&&i.preventDefault(),w?M==="add-task"||M==="open-task"?H(w,M):a.exec("select-task",{id:w,toggle:i.ctrlKey||i.metaKey,range:i.shiftKey,show:!0}):M==="add-task"&&H(null,M)},[a,H]),J=e.useRef(null),te=e.useRef(null),[x,I]=e.useState(0),[X,W]=e.useState(!1);e.useEffect(()=>{const i=te.current;if(!i||typeof ResizeObserver>"u")return;const w=()=>I(i.clientWidth);w();const M=new ResizeObserver(w);return M.observe(i),()=>M.disconnect()},[]);const fe=e.useRef(null),se=e.useCallback(i=>{const w=i.id,{before:M,after:_}=i,ue=i.onMove;let ce=M||_,be=M?"before":"after";if(ue){if(be==="after"){const Me=a.getTask(ce);Me.data?.length&&Me.open&&(be="before",ce=Me.data[0].id)}fe.current={id:w,[be]:ce}}else fe.current=null;a.exec("move-task",{id:w,mode:be,target:ce,inProgress:ue})},[a]),ne=e.useMemo(()=>b?.from??0,[b]),me=e.useMemo(()=>m?.height??0,[m]),Te=e.useMemo(()=>!r&&c!=="grid"?(k??0)>(u??0):(k??0)>(x??0),[r,c,k,u,x]),ye=e.useMemo(()=>{const i={};return Te&&c==="all"||c==="grid"&&Te?i.width=k:c==="grid"&&(i.width="100%"),i},[Te,c,k]),S=e.useMemo(()=>q&&!g.find(i=>i.id===q.id)?[...g,q]:g,[g,q]),K=e.useMemo(()=>{if(!T||!p)return S;const i=new Map,w=new Set;return S.forEach(M=>{const _=p.taskRows.get(M.id)??M.id;w.has(_)||(i.set(_,{...M,$rowTasks:p.rowMap.get(_)||[M.id]}),w.add(_))}),Array.from(i.values())},[S,T,p]),ie=e.useMemo(()=>{let i=(U||[]).map(_=>{_={..._};const ue=_.header;if(typeof ue=="object"){const ce=ue.text&&G(ue.text);_.header={...ue,text:ce}}else _.header=G(ue);return _});const w=i.findIndex(_=>_.id==="text"),M=i.findIndex(_=>_.id==="add-task");if(w!==-1&&(i[w].cell&&(i[w]._cell=i[w].cell),i[w].cell=it),M!==-1){i[M].cell=i[M].cell||Ue;const _=i[M].header;if(typeof _!="object"&&(i[M].header={text:_}),i[M].header.cell=_.cell||Ue,n)i.splice(M,1);else if(r){const[ue]=i.splice(M,1);i.unshift(ue)}}return i.length>0&&(i[i.length-1].resize=!1),i},[U,G,n,r]),ve=e.useMemo(()=>c==="all"?`${u}px`:c==="grid"?"calc(100% - 4px)":ie.find(i=>i.id==="add-task")?"50px":"0",[c,u,ie]),Ce=e.useMemo(()=>{if(K&&B?.length){const i={};return B.forEach(({key:w,order:M},_)=>{i[w]={order:M,...B.length>1&&{index:_}}}),i}return{}},[K,B]),ke=e.useCallback(()=>ie.some(i=>i.flexgrow&&!i.hidden),[]),Ee=e.useMemo(()=>ke(),[ke,X]),je=e.useMemo(()=>{let i=c==="chart"?ie.filter(M=>M.id==="add-task"):ie;const w=c==="all"?u:x;if(!Ee){let M=k,_=!1;if(ie.some(ue=>ue.$width)){let ue=0;M=ie.reduce((ce,be)=>(be.hidden||(ue+=be.width,ce+=be.$width||be.width),ce),0),ue>M&&M>w&&(_=!0)}if(_||M<w){let ue=1;return _||(ue=(w-50)/(M-50||1)),i.map(ce=>(ce.id!=="add-task"&&!ce.hidden&&(ce.$width||(ce.$width=ce.width),ce.width=ce.$width*ue),ce))}}return i},[c,ie,Ee,k,u,x]),oe=e.useCallback(i=>{if(!ke()){const w=je.reduce((M,_)=>(i&&_.$width&&(_.$width=_.width),M+(_.hidden?0:_.width)),0);w!==k&&d(w)}W(!0),W(!1)},[ke,je,k,d]),f=e.useCallback(()=>{ie.filter(w=>w.flexgrow&&!w.hidden).length===1&&ie.forEach(w=>{w.$width&&!w.flexgrow&&!w.hidden&&(w.width=w.$width)})},[]),F=e.useCallback(i=>{if(!n){const w=ge.locateID(i),M=ge.locateAttr(i,"data-col-id");!(M&&ie.find(ue=>ue.id==M))?.editor&&w&&a.exec("show-editor",{id:w})}},[a,n]),ae=e.useMemo(()=>Array.isArray(Y)?Y.map(i=>i.id):[],[Y]),D=e.useCallback(()=>{if(J.current&&K!==null){const i=J.current.querySelector(".wx-body");i&&(i.style.top=-((L??0)-(ne??0))+"px")}te.current&&(te.current.scrollTop=0)},[K,L,ne]);e.useEffect(()=>{J.current&&D()},[L,ne,D]),e.useEffect(()=>{const i=J.current;if(!i)return;const w=i.querySelector(".wx-table-box .wx-body");if(!w||typeof ResizeObserver>"u")return;const M=new ResizeObserver(()=>{D()});return M.observe(w),()=>{M.disconnect()}},[je,ye,c,ve,K,D]),e.useEffect(()=>{if(!N||!$)return;const{id:i}=N,w=$.getState().focusCell;w&&w.row!==i&&J.current&&J.current.contains(document.activeElement)&&$.exec("focus-cell",{row:i,column:w.column})},[N,$]);const we=e.useCallback(({id:i})=>{if(n)return!1;a.getTask(i).open&&a.exec("open-task",{id:i,mode:!1});const w=a.getState()._tasks.find(M=>M.id===i);if(C(w||null),!w)return!1},[a,n]),Le=e.useCallback(({id:i,top:w})=>{fe.current?se({...fe.current,onMove:!1}):a.exec("drag-task",{id:i,top:w+(ne??0),inProgress:!1}),C(null)},[a,se,ne]),Pe=e.useCallback(({id:i,top:w,detail:M})=>{M&&se({...M,onMove:!0}),a.exec("drag-task",{id:i,top:w+(ne??0),inProgress:!0})},[a,se,ne]);e.useEffect(()=>{const i=J.current;return i?ct(i,{start:we,end:Le,move:Pe,getTask:a.getTask}).destroy:void 0},[a,we,Le,Pe]);const ze=e.useCallback(i=>{const{key:w,isInput:M}=i;if(!M&&(w==="arrowup"||w==="arrowdown"))return i.eventSource="grid",a.exec("hotkey",i),!1;if(w==="enter"){const _=$?.getState().focusCell;if(_){const{row:ue,column:ce}=_;ce==="add-task"?H(ue,"add-task"):ce==="text"&&H(ue,"open-task")}}},[a,H,$]),Se=e.useRef(null),De=()=>{Se.current={setTableAPI:A,handleHotkey:ze,sortVal:B,api:a,adjustColumns:f,setColumnWidth:oe,tasks:g,calendarVal:Z,durationUnitVal:y,splitTasksVal:le,onTableAPIChange:l}};De(),e.useEffect(()=>{De()},[A,ze,B,a,f,oe,g,Z,y,le,l]);const Ge=e.useCallback(i=>{A(i),i.intercept("hotkey",w=>Se.current.handleHotkey(w)),i.intercept("scroll",()=>!1),i.intercept("select-row",()=>!1),i.intercept("sort-rows",w=>{const M=Se.current.sortVal,{key:_,add:ue}=w,ce=M?M.find(Me=>Me.key===_):null;let be="asc";return ce&&(be=!ce||ce.order==="asc"?"desc":"asc"),a.exec("sort-tasks",{key:_,order:be,add:ue}),!1}),i.on("resize-column",()=>{Se.current.setColumnWidth(!0)}),i.on("hide-column",w=>{w.mode||Se.current.adjustColumns(),Se.current.setColumnWidth()}),i.intercept("update-cell",w=>{const{id:M,column:_,value:ue}=w,ce=Se.current.tasks.find(be=>be.id===M);if(ce){const be={...ce};let Me=ue;Me&&!isNaN(Me)&&!(Me instanceof Date)&&(Me*=1),be[_]=Me,de.prepareEditTask(be,{calendar:Se.current.calendarVal,durationUnit:Se.current.durationUnitVal,splitTasks:Se.current.splitTasksVal},_),a.exec("update-task",{id:M,task:be})}return!1}),l&&l(i)},[]);return o.jsx("div",{className:"wx-rHj6070p wx-table-container",style:{flex:`0 0 ${ve}`},ref:te,children:o.jsx("div",{ref:J,style:ye,className:"wx-rHj6070p wx-table",onClick:ee,onDoubleClick:F,children:o.jsx(Je.Grid,{init:Ge,sizes:{rowHeight:V,headerHeight:(me??0)-1},rowStyle:i=>i.$reorder?"wx-rHj6070p wx-reorder-task":"wx-rHj6070p",columnStyle:i=>`wx-rHj6070p wx-text-${i.align}${i.id==="add-task"?" wx-action":""}`,data:K,columns:je,selectedRows:[...ae],sortMarks:Ce})})})}function ut({borders:s=""}){const n=e.useContext(Ie),r=v.useStore(n,"cellWidth"),u=v.useStore(n,"cellHeight"),c=e.useRef(null),[R,l]=e.useState("#e4e4e4");e.useEffect(()=>{if(typeof getComputedStyle<"u"&&c.current){const p=getComputedStyle(c.current).getPropertyValue("--wx-gantt-border");l(p?p.substring(p.indexOf("#")):"#1d1e261a")}},[]);const T={width:"100%",height:"100%",background:r!=null&&u!=null?`url(${de.grid(r,u,R,s)})`:void 0,position:"absolute"};return o.jsx("div",{ref:c,style:T})}function dt({onSelectLink:s,selectedLink:n,readonly:r}){const u=e.useContext(Ie),c=v.useStore(u,"_links"),R=v.useStore(u,"criticalPath"),l=e.useRef(null),T=e.useCallback(p=>{const k=p?.target?.classList;!k?.contains("wx-line")&&!k?.contains("wx-delete-button")&&s(null)},[s]);return e.useEffect(()=>{if(!r&&n&&l.current){const p=k=>{l.current&&!l.current.contains(k.target)&&T(k)};return document.addEventListener("click",p),()=>{document.removeEventListener("click",p)}}},[r,n,T]),o.jsxs("svg",{className:"wx-dkx3NwEn wx-links",children:[(c||[]).map(p=>{const k="wx-dkx3NwEn wx-line"+(R&&p.$critical?" wx-critical":"")+(r?"":" wx-line-selectable");return o.jsx("polyline",{className:k,points:p.$p,onClick:()=>!r&&s(p.id),"data-link-id":p.id},p.id)}),!r&&n&&o.jsx("polyline",{ref:l,className:"wx-dkx3NwEn wx-line wx-line-selected wx-line-selectable wx-delete-link",points:n.$p})]})}function ft(s){const{task:n,type:r}=s;function u(R){const l=n.segments[R];return{left:`${l.$x}px`,top:"0px",width:`${l.$w}px`,height:"100%"}}function c(R){if(!n.progress)return 0;const l=n.duration*n.progress/100,T=n.segments;let p=0,k=0,d=null;do{const $=T[k];k===R&&(p>l?d=0:d=Math.min((l-p)/$.duration,1)*100),p+=$.duration,k++}while(d===null&&k<T.length);return d||0}return o.jsx("div",{className:"wx-segments wx-GKbcLEGA",children:n.segments.map((R,l)=>o.jsxs("div",{className:`wx-segment wx-bar wx-${r} wx-GKbcLEGA`,"data-segment":l,style:u(l),children:[n.progress?o.jsx("div",{className:"wx-progress-wrapper",children:o.jsx("div",{className:"wx-progress-percent wx-GKbcLEGA",style:{width:`${c(l)}%`}})}):null,o.jsx("div",{className:"wx-content",children:R.text||""})]},l))})}function xt(s){const{readonly:n,taskTemplate:r,multiTaskRows:u=!1,rowMapping:c=null,marqueeSelect:R=!1}=s,l=e.useContext(Ie),[T,p]=v.useStoreWithCounter(l,"_tasks"),[k,d]=v.useStoreWithCounter(l,"_links"),$=v.useStore(l,"area"),A=v.useStore(l,"_scales"),j=v.useStore(l,"taskTypes"),G=v.useStore(l,"baselines"),a=v.useStore(l,"_selected"),L=v.useStore(l,"_scrollTask"),V=v.useStore(l,"criticalPath"),N=v.useStore(l,"tasks"),Y=v.useStore(l,"schedule"),b=v.useStore(l,"splitTasks"),P=e.useMemo(()=>{if(!$||!Array.isArray(T))return[];const t=$.start??0,h=$.end??0;return T.slice(t,h).map(E=>({...E}))},[p,$]),m=v.useStore(l,"cellHeight"),U=e.useMemo(()=>{if(!u||!c||!P.length)return P;const t=new Map,h=[];return T.forEach(E=>{const O=c.taskRows.get(E.id)??E.id;t.has(O)||(t.set(O,h.length),h.push(O))}),P.map(E=>{const O=c.taskRows.get(E.id)??E.id,z=t.get(O)??0;return{...E,$y:z*m,$y_base:E.$y_base!==void 0?z*m:void 0}})},[P,u,c,T,m]),B=e.useMemo(()=>A.lengthUnitWidth,[A]),Z=e.useRef(!1),[y,le]=e.useState(void 0),[q,C]=e.useState(null),g=e.useRef(null),[H,ee]=e.useState(null),[J,te]=e.useState(void 0),x=e.useRef(null),[I,X]=e.useState(0),[W,fe]=e.useState(null),[se,ne]=e.useState(null),me=e.useRef(null),Te=e.useMemo(()=>{const t=me.current;return!!(a.length&&t&&t.contains(document.activeElement))},[a,me.current]),ye=e.useMemo(()=>Te&&a[a.length-1]?.id,[Te,a]);e.useEffect(()=>{if(L&&Te&&L){const{id:t}=L,h=me.current?.querySelector(`.wx-bar[data-id='${t}']`);h&&h.focus({preventScroll:!0})}},[L]),e.useEffect(()=>{const t=me.current;if(t&&(X(t.offsetWidth||0),typeof ResizeObserver<"u")){const h=new ResizeObserver(E=>{E[0]&&X(E[0].contentRect.width)});return h.observe(t),()=>h.disconnect()}},[me.current]);const S=e.useCallback(()=>{document.body.style.userSelect="none"},[]),K=e.useCallback(()=>{document.body.style.userSelect=""},[]),ie=e.useCallback((t,h,E)=>{if(h.target.classList.contains("wx-line")||(E||(E=l.getTask(He(t))),E.type==="milestone"||E.type==="summary"))return"";const O=ge.locate(h,"data-segment");O&&(t=O);const{left:z,width:Q}=t.getBoundingClientRect(),re=(h.clientX-z)/Q;let he=.2/(Q>200?Q/200:1);return re<he?"start":re>1-he?"end":""},[l]),ve=e.useCallback(t=>{const h=Math.min(t.startX,t.currentX),E=Math.max(t.startX,t.currentX),O=Math.min(t.startY,t.currentY),z=Math.max(t.startY,t.currentY);return T.filter(Q=>{const re=Q.$x,he=Q.$x+Q.$w,pe=Q.$y,Re=Q.$y+Q.$h;return re<E&&he>h&&pe<z&&Re>O})},[T]),Ce=e.useCallback(t=>a.some(h=>h.id===t),[a]),ke=e.useCallback((t,h)=>{const{clientX:E}=h,O=He(t),z=l.getTask(O),Q=h.target.classList;if(!h.target.closest(".wx-delete-button")&&!n){if(Q.contains("wx-progress-marker")){const{progress:re}=l.getTask(O);g.current={id:O,x:E,progress:re,dx:0,node:t,marker:h.target},h.target.classList.add("wx-progress-in-drag")}else{const re=ie(t,h,z)||"move",he={id:O,mode:re,x:E,dx:0,l:z.$x,w:z.$w};if(b&&z.segments?.length){const pe=ge.locate(h,"data-segment");pe&&(he.segmentIndex=pe.dataset.segment*1,de.extendDragOptions(z,he))}C(he)}S()}},[l,n,ie,S,b]),Ee=e.useCallback(t=>{if(t.button!==0)return;const h=ge.locate(t);if(!h&&R&&!n){const E=me.current;if(!E)return;const O=E.getBoundingClientRect(),z=t.clientX-O.left+E.parentElement.scrollLeft,Q=t.clientY-O.top+E.parentElement.parentElement.scrollTop;fe({startX:z,startY:Q,currentX:z,currentY:Q,ctrlKey:t.ctrlKey||t.metaKey}),S();return}if(h){if(R&&!n&&a.length>1){const E=He(h);if(Ce(E)){const O=t.target.classList;if(!O.contains("wx-link")&&!O.contains("wx-progress-marker")&&!t.target.closest(".wx-delete-button")){const z=l.getTask(E);if(!ie(h,t,z)){const re=new Map;a.forEach(he=>{const pe=l.getTask(he.id);if(pe){if(Y?.auto&&pe.type==="summary")return;re.set(he.id,{$x:pe.$x,$w:pe.$w,start:pe.start,end:pe.end})}}),ne({baseTaskId:E,startX:t.clientX,dx:0,originalPositions:re}),S();return}}}}ke(h,t)}},[ke,R,n,a,Ce,l,ie,Y,S]),je=e.useCallback(t=>{const h=ge.locate(t);h&&(x.current=setTimeout(()=>{te(!0),ke(h,t.touches[0])},300))},[ke]),oe=e.useCallback(t=>{ee(t&&{...k.find(h=>h.id===t)})},[k]),f=e.useCallback(()=>{if(W){const t=ve(W);W.ctrlKey?t.forEach(h=>{l.exec("select-task",{id:h.id,toggle:!0})}):(a.length>0&&l.exec("select-task",{id:null}),t.forEach((h,E)=>{l.exec("select-task",{id:h.id,toggle:E>0})})),fe(null),K(),Z.current=!0;return}if(se){const{dx:t,originalPositions:h}=se,E=Math.round(t/B);if(E!==0){let O=!0;h.forEach((z,Q)=>{const re=l.getTask(Q);re&&(l.exec("update-task",{id:Q,diff:E,task:{start:re.start,end:re.end},skipUndo:!O}),O=!1)}),Z.current=!0}else h.forEach((O,z)=>{l.exec("drag-task",{id:z,left:O.$x,width:O.$w,inProgress:!1})});ne(null),K();return}if(g.current){const{dx:t,id:h,marker:E,value:O}=g.current;g.current=null,typeof O<"u"&&t&&l.exec("update-task",{id:h,task:{progress:O},inProgress:!1}),E.classList.remove("wx-progress-in-drag"),Z.current=!0,K()}else if(q){const{id:t,mode:h,dx:E,l:O,w:z,start:Q,segment:re,index:he}=q;if(C(null),Q){const pe=Math.round(E/B);if(!pe)l.exec("drag-task",{id:t,width:z,left:O,inProgress:!1,...re&&{segmentIndex:he}});else{let Re={},Ae=l.getTask(t);re&&(Ae=Ae.segments[he]),h==="move"?(Re.start=Ae.start,Re.end=Ae.end):Re[h]=Ae[h],l.exec("update-task",{id:t,diff:pe,task:Re,...re&&{segmentIndex:he}})}Z.current=!0}K()}},[l,K,q,B,W,se,ve,a]),F=e.useCallback((t,h)=>{const{clientX:E,clientY:O}=h;if(!n){if(W){const z=me.current;if(!z)return;const Q=z.getBoundingClientRect(),re=E-Q.left+z.parentElement.scrollLeft,he=O-Q.top+z.parentElement.parentElement.scrollTop;fe(pe=>({...pe,currentX:re,currentY:he}));return}if(se){const z=E-se.startX;se.originalPositions.forEach((Q,re)=>{const he=Q.$x+z;l.exec("drag-task",{id:re,left:he,width:Q.$w,inProgress:!0})}),ne(Q=>({...Q,dx:z}));return}if(g.current){const{node:z,x:Q,id:re}=g.current,he=g.current.dx=E-Q,pe=Math.round(he/z.offsetWidth*100);let Re=g.current.progress+pe;g.current.value=Re=Math.min(Math.max(0,Re),100),l.exec("update-task",{id:re,task:{progress:Re},inProgress:!0})}else if(q){oe(null);const{mode:z,l:Q,w:re,x:he,id:pe,start:Re,segment:Ae,index:st}=q,Fe=l.getTask(pe),$e=E-he;if(!Re&&Math.abs($e)<20||z==="start"&&re-$e<B||z==="end"&&re+$e<B||z==="move"&&($e<0&&Q+$e<0||$e>0&&Q+re+$e>I)||q.segment&&!de.isSegmentMoveAllowed(Fe,q))return;const qe={...q,dx:$e};let We,_e;if(z==="start"?(We=Q+$e,_e=re-$e):z==="end"?(We=Q,_e=re+$e):z==="move"&&(We=Q+$e,_e=re),l.exec("drag-task",{id:pe,width:_e,left:We,inProgress:!0,...Ae&&{segmentIndex:st}}),!qe.start&&(z==="move"&&Fe.$x==Q||z!=="move"&&Fe.$w==re)){Z.current=!0,f();return}qe.start=!0,C(qe)}else{const z=ge.locate(t);if(z){const Q=l.getTask(He(z)),he=ge.locate(t,"data-segment")||z,pe=ie(he,h,Q);he.style.cursor=pe&&!n?"col-resize":"pointer"}}}},[l,n,q,B,I,ie,oe,f,W,se]),ae=e.useCallback(t=>{F(t,t)},[F]),D=e.useCallback(t=>{J?(t.preventDefault(),F(t,t.touches[0])):x.current&&(clearTimeout(x.current),x.current=null)},[J,F]),we=e.useCallback(()=>{f()},[f]),Le=e.useCallback(()=>{te(null),x.current&&(clearTimeout(x.current),x.current=null),f()},[f]);e.useEffect(()=>(window.addEventListener("mouseup",we),()=>{window.removeEventListener("mouseup",we)}),[we]);const Pe=e.useCallback(t=>{if(!n){const h=ge.locateID(t.target);if(h&&!t.target.classList.contains("wx-link")){const E=ge.locateID(t.target,"data-segment");l.exec("show-editor",{id:h,...E!==null&&{segmentIndex:E}})}}},[l,n]),ze=["e2s","s2s","e2e","s2e"],Se=e.useCallback((t,h)=>ze[(t?1:0)+(h?0:2)],[]),De=e.useCallback((t,h)=>{const E=y.id,O=y.start;return t===E?!0:!!k.find(z=>z.target==t&&z.source==E&&z.type===Se(O,h))},[y,d,Se]),Ge=e.useCallback(()=>{y&&le(null)},[y]),i=e.useCallback(t=>{if(Z.current){Z.current=!1;return}const h=ge.locateID(t.target);if(h){const E=t.target.classList;if(E.contains("wx-link")){const O=E.contains("wx-left");if(!y){le({id:h,start:O});return}y.id!==h&&!De(h,O)&&l.exec("add-link",{link:{source:y.id,target:h,type:Se(y.start,O)}})}else if(E.contains("wx-delete-button-icon"))l.exec("delete-link",{id:H.id}),ee(null);else{let O;const z=ge.locate(t,"data-segment");z&&(O=z.dataset.segment*1),l.exec("select-task",{id:h,toggle:t.ctrlKey||t.metaKey,range:t.shiftKey,segmentIndex:O})}}Ge()},[l,y,d,H,De,Se,Ge]),w=e.useCallback(t=>({left:`${t.$x}px`,top:`${t.$y}px`,width:`${t.$w}px`,height:`${t.$h}px`}),[]),M=e.useCallback(t=>({left:`${t.$x_base}px`,top:`${t.$y_base}px`,width:`${t.$w_base}px`,height:`${t.$h_base}px`}),[]),_=e.useCallback(t=>{if(J||x.current)return t.preventDefault(),!1},[J]),ue=e.useMemo(()=>j.map(t=>t.id),[j]),ce=e.useCallback(t=>{let h=ue.includes(t)?t:"task";return["task","milestone","summary"].includes(t)||(h=`task ${h}`),h},[ue]),be=e.useCallback(t=>{l.exec(t.action,t.data)},[l]),Me=e.useCallback(t=>V&&N.byId(t).$critical,[V,N]),Ke=e.useCallback(t=>{if(Y?.auto){const h=N.getSummaryId(t,!0),E=N.getSummaryId(y.id,!0);return y?.id&&!(Array.isArray(h)?h:[h]).includes(y.id)&&!(Array.isArray(E)?E:[E]).includes(t)}return y},[Y,N,y]),Ve=e.useMemo(()=>{if(!W)return null;const t=Math.min(W.startX,W.currentX),h=Math.min(W.startY,W.currentY),E=Math.abs(W.currentX-W.startX),O=Math.abs(W.currentY-W.startY);return{left:`${t}px`,top:`${h}px`,width:`${E}px`,height:`${O}px`}},[W]);return o.jsxs("div",{className:"wx-GKbcLEGA wx-bars",style:{lineHeight:`${U.length?U[0].$h:0}px`},ref:me,onContextMenu:_,onMouseDown:Ee,onMouseMove:ae,onTouchStart:je,onTouchMove:D,onTouchEnd:Le,onClick:i,onDoubleClick:Pe,onDragStart:t=>(t.preventDefault(),!1),children:[o.jsx(dt,{onSelectLink:oe,selectedLink:H,readonly:n}),U.map(t=>{if(t.$skip&&t.$skip_baseline)return null;const h=`wx-bar wx-${ce(t.type)}`+(J&&q&&t.id===q.id?" wx-touch":"")+(y&&y.id===t.id?" wx-selected":"")+(Me(t.id)?" wx-critical":"")+(t.$reorder?" wx-reorder-task":"")+(b&&t.segments?" wx-split":""),E="wx-link wx-left"+(y?" wx-visible":"")+(!y||!De(t.id,!0)&&Ke(t.id)?" wx-target":"")+(y&&y.id===t.id&&y.start?" wx-selected":"")+(Me(t.id)?" wx-critical":""),O="wx-link wx-right"+(y?" wx-visible":"")+(!y||!De(t.id,!1)&&Ke(t.id)?" wx-target":"")+(y&&y.id===t.id&&!y.start?" wx-selected":"")+(Me(t.id)?" wx-critical":"");return o.jsxs(e.Fragment,{children:[!t.$skip&&o.jsxs("div",{className:"wx-GKbcLEGA "+h,style:w(t),"data-tooltip-id":t.id,"data-id":t.id,tabIndex:ye===t.id?0:-1,children:[n?null:t.id===H?.target&&H?.type[2]==="s"?o.jsx(xe.Button,{type:"danger",css:"wx-left wx-delete-button wx-delete-link",children:o.jsx("i",{className:"wxi-close wx-delete-button-icon"})}):o.jsx("div",{className:"wx-GKbcLEGA "+E,children:o.jsx("div",{className:"wx-GKbcLEGA wx-inner"})}),t.type!=="milestone"?o.jsxs(o.Fragment,{children:[t.progress&&!(b&&t.segments)?o.jsx("div",{className:"wx-GKbcLEGA wx-progress-wrapper",children:o.jsx("div",{className:"wx-GKbcLEGA wx-progress-percent",style:{width:`${t.progress}%`}})}):null,!n&&!(b&&t.segments)?o.jsx("div",{className:"wx-GKbcLEGA wx-progress-marker",style:{left:`calc(${t.progress}% - 10px)`},children:t.progress}):null,r?o.jsx(r,{data:t,api:l,onAction:be}):b&&t.segments?o.jsx(ft,{task:t,type:ce(t.type)}):o.jsx("div",{className:"wx-GKbcLEGA wx-content",children:t.text||""})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"wx-GKbcLEGA wx-content"}),r?o.jsx(r,{data:t,api:l,onAction:be}):o.jsx("div",{className:"wx-GKbcLEGA wx-text-out",children:t.text})]}),n?null:t.id===H?.target&&H?.type[2]==="e"?o.jsx(xe.Button,{type:"danger",css:"wx-right wx-delete-button wx-delete-link",children:o.jsx("i",{className:"wxi-close wx-delete-button-icon"})}):o.jsx("div",{className:"wx-GKbcLEGA "+O,children:o.jsx("div",{className:"wx-GKbcLEGA wx-inner"})})]}),G&&!t.$skip_baseline?o.jsx("div",{className:"wx-GKbcLEGA wx-baseline"+(t.type==="milestone"?" wx-milestone":""),style:M(t)}):null]},t.id)}),W&&Ve&&o.jsx("div",{className:"wx-GKbcLEGA wx-marquee-selection",style:Ve})]})}function mt(s){const{highlightTime:n}=s,r=e.useContext(Ie),u=v.useStore(r,"_scales");return o.jsx("div",{className:"wx-ZkvhDKir wx-scale",style:{width:u.width},children:(u?.rows||[]).map((c,R)=>o.jsx("div",{className:"wx-ZkvhDKir wx-row",style:{height:`${c.height}px`},children:(c.cells||[]).map((l,T)=>{const p=n?n(l.date,l.unit):"",k="wx-cell "+(l.css||"")+" "+(p||"");return o.jsx("div",{className:"wx-ZkvhDKir "+k,style:{width:`${l.width}px`},children:l.value},T)})},R))})}const ht=new Map;function gt(s){const n=e.useRef(null),r=e.useRef(0),u=e.useRef(null),c=typeof window<"u"&&window.__RENDER_METRICS_ENABLED__;n.current===null&&(n.current=performance.now()),r.current++,e.useEffect(()=>{if(c)return cancelAnimationFrame(u.current),u.current=requestAnimationFrame(()=>{const R={label:s,time:performance.now()-n.current,renders:r.current,timestamp:Date.now()};ht.set(s,R),window.dispatchEvent(new CustomEvent("render-metric",{detail:R}))}),()=>cancelAnimationFrame(u.current)})}function wt(s){const{readonly:n,fullWidth:r,fullHeight:u,taskTemplate:c,cellBorders:R,highlightTime:l,multiTaskRows:T=!1,rowMapping:p=null,marqueeSelect:k=!1}=s,d=e.useContext(Ie),[$,A]=v.useStoreWithCounter(d,"_selected"),j=v.useStore(d,"scrollTop"),G=v.useStore(d,"cellHeight"),a=v.useStore(d,"cellWidth"),L=v.useStore(d,"_scales"),V=v.useStore(d,"_markers"),N=v.useStore(d,"_scrollTask"),Y=v.useStore(d,"zoom"),[b,P]=e.useState(),m=e.useRef(null),U=1+(L?.rows?.length||0),B=e.useMemo(()=>{const x=[];return $&&$.length&&G&&$.forEach(I=>{x.push({height:`${G}px`,top:`${I.$y-3}px`})}),x},[A,G]),Z=e.useMemo(()=>Math.max(b||0,u),[b,u]);e.useEffect(()=>{const x=m.current;x&&typeof j=="number"&&(x.scrollTop=j)},[j]);const y=()=>{le()};function le(x){const I=m.current;if(!I)return;const X={};X.left=I.scrollLeft,d.exec("scroll-chart",X)}function q(){const x=m.current,X=Math.ceil((b||0)/(G||1))+1,W=Math.floor((x&&x.scrollTop||0)/(G||1)),fe=Math.max(0,W-U),se=W+X+U,ne=fe*(G||0);d.exec("render-data",{start:fe,end:se,from:ne})}e.useEffect(()=>{q()},[b,j]);const C=e.useCallback(x=>{if(!x)return;const{id:I,mode:X}=x;if(X.toString().indexOf("x")<0)return;const W=m.current;if(!W)return;const{clientWidth:fe}=W,se=d.getTask(I);if(se.$x+se.$w<W.scrollLeft)d.exec("scroll-chart",{left:se.$x-(a||0)}),W.scrollLeft=se.$x-(a||0);else if(se.$x>=fe+W.scrollLeft){const ne=fe<se.$w?a||0:se.$w;d.exec("scroll-chart",{left:se.$x-fe+ne}),W.scrollLeft=se.$x-fe+ne}},[d,a]);e.useEffect(()=>{C(N)},[N]);function g(x){if(Y&&(x.ctrlKey||x.metaKey)){x.preventDefault();const I=m.current,X=-Math.sign(x.deltaY),W=x.clientX-(I?I.getBoundingClientRect().left:0);d.exec("zoom-scale",{dir:X,offset:W})}}function H(x){const I=l(x.date,x.unit);return I?{css:I,width:x.width}:null}const ee=e.useMemo(()=>L&&(L.minUnit==="hour"||L.minUnit==="day")&&l?L.rows[L.rows.length-1].cells.map(H):null,[L,l]),J=e.useCallback(x=>{x.eventSource="chart",d.exec("hotkey",x)},[d]);e.useEffect(()=>{const x=m.current;if(!x)return;const I=()=>P(x.clientHeight);I();const X=new ResizeObserver(()=>I());return X.observe(x),()=>{X.disconnect()}},[m.current]);const te=e.useRef(null);return e.useEffect(()=>{const x=m.current;if(x&&!te.current)return te.current=Ze.hotkeys(x,{keys:{arrowup:!0,arrowdown:!0},exec:I=>J(I)}),()=>{te.current?.destroy(),te.current=null}},[]),e.useEffect(()=>{const x=m.current;if(!x)return;const I=g;return x.addEventListener("wheel",I),()=>{x.removeEventListener("wheel",I)}},[g]),gt("chart"),o.jsxs("div",{className:"wx-mR7v2Xag wx-chart",tabIndex:-1,ref:m,onScroll:y,children:[o.jsx(mt,{highlightTime:l,scales:L}),V&&V.length?o.jsx("div",{className:"wx-mR7v2Xag wx-markers",style:{height:`${Z}px`},children:V.map((x,I)=>o.jsx("div",{className:`wx-mR7v2Xag wx-marker ${x.css||""}`,style:{left:`${x.left}px`},children:o.jsx("div",{className:"wx-mR7v2Xag wx-content",children:x.text})},I))}):null,o.jsxs("div",{className:"wx-mR7v2Xag wx-area",style:{width:`${r}px`,height:`${Z}px`},children:[ee?o.jsx("div",{className:"wx-mR7v2Xag wx-gantt-holidays",style:{height:"100%"},children:ee.map((x,I)=>x?o.jsx("div",{className:"wx-mR7v2Xag "+x.css,style:{width:`${x.width}px`,left:`${I*x.width}px`}},I):null)}):null,o.jsx(ut,{borders:R}),$&&$.length?$.map((x,I)=>x.$y?o.jsx("div",{className:"wx-mR7v2Xag wx-selected","data-id":x.id,style:B[I]},x.id):null):null,o.jsx(xt,{readonly:n,taskTemplate:c,multiTaskRows:T,rowMapping:p,marqueeSelect:k})]})]})}function pt(s){const{position:n="after",size:r=4,dir:u="x",onMove:c,onDisplayChange:R,compactMode:l,containerWidth:T=0,leftThreshold:p=50,rightThreshold:k=50}=s,[d,$]=v.useWritableProp(s.value??0),[A,j]=v.useWritableProp(s.display??"all");function G(te){let x=0;n=="center"?x=r/2:n=="before"&&(x=r);const I={size:[r+"px","auto"],p:[te-x+"px","0px"],p2:["auto","0px"]};if(u!="x")for(let X in I)I[X]=I[X].reverse();return I}const[a,L]=e.useState(!1),[V,N]=e.useState(null),Y=e.useRef(0),b=e.useRef(),P=e.useRef(),m=e.useRef(A);e.useEffect(()=>{m.current=A},[A]),e.useEffect(()=>{V===null&&d>0&&N(d)},[V,d]);function U(te){return u=="x"?te.clientX:te.clientY}const B=e.useCallback(te=>{const x=b.current+U(te)-Y.current;$(x);let I;x<=p?I="chart":T-x<=k?I="grid":I="all",m.current!==I&&(j(I),m.current=I),P.current&&clearTimeout(P.current),P.current=setTimeout(()=>c&&c(x),100)},[T,p,k,c]),Z=e.useCallback(()=>{document.body.style.cursor="",document.body.style.userSelect="",L(!1),window.removeEventListener("mousemove",B),window.removeEventListener("mouseup",Z)},[B]),y=e.useMemo(()=>A!=="all"?"auto":u=="x"?"ew-resize":"ns-resize",[A,u]),le=e.useCallback(te=>{!l&&(A==="grid"||A==="chart")||(Y.current=U(te),b.current=d,L(!0),document.body.style.cursor=y,document.body.style.userSelect="none",window.addEventListener("mousemove",B),window.addEventListener("mouseup",Z))},[y,B,Z,d,l,A]);function q(){j("all"),V!==null&&($(V),c&&c(V))}function C(te){if(l){const x=A==="chart"?"grid":"chart";j(x),R(x)}else if(A==="grid"||A==="chart")q(),R("all");else{const x=te==="left"?"chart":"grid";j(x),R(x)}}function g(){C("left")}function H(){C("right")}const ee=e.useMemo(()=>G(d),[d,n,r,u]),J=["wx-resizer",`wx-resizer-${u}`,`wx-resizer-display-${A}`,a?"wx-resizer-active":""].filter(Boolean).join(" ");return o.jsxs("div",{className:"wx-pFykzMlT "+J,onMouseDown:le,style:{width:ee.size[0],height:ee.size[1],cursor:y},children:[o.jsxs("div",{className:"wx-pFykzMlT wx-button-expand-box",children:[o.jsx("div",{className:"wx-pFykzMlT wx-button-expand-content wx-button-expand-left",children:o.jsx("i",{className:"wx-pFykzMlT wxi-menu-left",onClick:g})}),o.jsx("div",{className:"wx-pFykzMlT wx-button-expand-content wx-button-expand-right",children:o.jsx("i",{className:"wx-pFykzMlT wxi-menu-right",onClick:H})})]}),o.jsx("div",{className:"wx-pFykzMlT wx-resizer-line"})]})}const bt=650;function et(s){let n;function r(){n=new ResizeObserver(c=>{for(let R of c)if(R.target===document.body){let l=R.contentRect.width<=bt;s(l)}}),n.observe(document.body)}function u(){n&&(n.disconnect(),n=null)}return{observe:r,disconnect:u}}function kt(s){const{taskTemplate:n,readonly:r,cellBorders:u,highlightTime:c,onTableAPIChange:R,multiTaskRows:l=!1,rowMapping:T=null,marqueeSelect:p=!1}=s,k=e.useContext(Ie),d=v.useStore(k,"_tasks"),$=v.useStore(k,"_scales"),A=v.useStore(k,"cellHeight"),j=v.useStore(k,"columns"),G=v.useStore(k,"_scrollTask"),a=v.useStore(k,"undo"),[L,V]=e.useState(!1);let[N,Y]=e.useState(0);const[b,P]=e.useState(0),[m,U]=e.useState(0),[B,Z]=e.useState(void 0),[y,le]=e.useState("all"),q=e.useRef(null),C=e.useCallback(S=>{V(K=>(S!==K&&(S?(q.current=y,y==="all"&&le("grid")):(!q.current||q.current==="all")&&le("all")),S))},[y]);e.useEffect(()=>{const S=et(C);return S.observe(),()=>{S.disconnect()}},[C]);const g=e.useMemo(()=>{let S;return j.every(K=>K.width&&!K.flexgrow)?S=j.reduce((K,ie)=>K+parseInt(ie.width),0):L&&y==="chart"?S=parseInt(j.find(K=>K.id==="action")?.width)||50:S=440,N=S,S},[j,L,y]);e.useEffect(()=>{Y(g)},[g]);const H=e.useMemo(()=>(b??0)-(B??0),[b,B]),ee=e.useMemo(()=>$.width,[$]),J=e.useMemo(()=>{if(!l||!T)return d.length*A;const S=new Set;return d.forEach(K=>{const ie=T.taskRows.get(K.id)??K.id;S.add(ie)}),S.size*A},[d,A,l,T]),te=e.useMemo(()=>$.height+J+H,[$,J,H]),x=e.useMemo(()=>N+ee,[N,ee]),I=e.useRef(null),X=e.useCallback(()=>{Promise.resolve().then(()=>{if((b??0)>(x??0)){const S=(b??0)-N;k.exec("expand-scale",{minWidth:S})}})},[b,x,N,k]);e.useEffect(()=>{let S;return I.current&&(S=new ResizeObserver(X),S.observe(I.current)),()=>{S&&S.disconnect()}},[I.current,X]),e.useEffect(()=>{X()},[ee]);const W=e.useRef(null),fe=e.useRef(null),se=e.useCallback(()=>{const S=W.current;S&&k.exec("scroll-chart",{top:S.scrollTop})},[k]),ne=e.useRef({rTasks:[],rScales:{height:0},rCellHeight:0,scrollSize:0,ganttDiv:null,ganttHeight:0});e.useEffect(()=>{ne.current={rTasks:d,rScales:$,rCellHeight:A,scrollSize:H,ganttDiv:W.current,ganttHeight:m??0}},[d,$,A,H,m]);const me=e.useCallback(S=>{if(!S)return;const{rTasks:K,rScales:ie,rCellHeight:ve,scrollSize:Ce,ganttDiv:ke,ganttHeight:Ee}=ne.current;if(!ke)return;const{id:je}=S,oe=K.findIndex(f=>f.id===je);if(oe>-1){const f=Ee-ie.height,F=oe*ve,ae=ke.scrollTop;let D=null;F<ae?D=F:F+ve>ae+f&&(D=F-f+ve+Ce),D!==null&&(k.exec("scroll-chart",{top:Math.max(D,0)}),W.current.scrollTop=Math.max(D,0))}},[k]);e.useEffect(()=>{me(G)},[G]),e.useEffect(()=>{const S=W.current,K=fe.current;if(!S||!K)return;const ie=()=>{rt.flushSync(()=>{U(S.offsetHeight),P(S.offsetWidth),Z(K.offsetWidth)})},ve=new ResizeObserver(ie);return ve.observe(S),()=>ve.disconnect()},[W.current]);const Te=e.useRef(null),ye=e.useRef(null);return e.useEffect(()=>{ye.current&&(ye.current.destroy(),ye.current=null);const S=Te.current;if(S)return ye.current=Ze.hotkeys(S,{keys:{"ctrl+c":!0,"ctrl+v":!0,"ctrl+x":!0,"ctrl+d":!0,"meta+c":!0,"meta+v":!0,"meta+x":!0,"meta+d":!0,backspace:!0,"ctrl+z":a,"ctrl+y":a,"meta+z":a,"meta+shift+z":a},exec:K=>{K.isInput||k.exec("hotkey",K)}}),()=>{ye.current?.destroy(),ye.current=null}},[a]),o.jsx("div",{className:"wx-jlbQoHOz wx-gantt",ref:W,onScroll:se,children:o.jsx("div",{className:"wx-jlbQoHOz wx-pseudo-rows",style:{height:te,width:"100%"},ref:fe,children:o.jsx("div",{className:"wx-jlbQoHOz wx-stuck",style:{height:m,width:B},children:o.jsxs("div",{tabIndex:0,className:"wx-jlbQoHOz wx-layout",ref:Te,children:[j.length?o.jsxs(o.Fragment,{children:[o.jsx(at,{display:y,compactMode:L,columnWidth:g,width:N,readonly:r,fullHeight:J,onTableAPIChange:R,multiTaskRows:l,rowMapping:T}),o.jsx(pt,{value:N,display:y,compactMode:L,containerWidth:b,onMove:S=>Y(S),onDisplayChange:S=>le(S)})]}):null,o.jsx("div",{className:"wx-jlbQoHOz wx-content",ref:I,children:o.jsx(wt,{readonly:r,fullWidth:ee,fullHeight:J,taskTemplate:n,cellBorders:u,highlightTime:c,multiTaskRows:l,rowMapping:T,marqueeSelect:p})})]})})})})}function yt(s){return{year:"%Y",quarter:`${s("Q")} %Q`,month:"%M",week:`${s("Week")} %w`,day:"%M %j",hour:"%H:%i"}}function vt(s,n){return typeof s=="function"?s:ge.dateToString(s,n)}function tt(s,n){return s.map(({format:r,...u})=>({...u,format:vt(r,n)}))}function Tt(s,n){const r=yt(n);for(let u in r)r[u]=ge.dateToString(r[u],s);return r}function Ct(s,n){if(!s||!s.length)return s;const r=ge.dateToString("%d-%m-%Y",n);return s.map(u=>u.template?u:u.id==="start"||u.id=="end"?{...u,_template:c=>r(c),template:c=>r(c)}:u.id==="duration"?{...u,_template:c=>c,template:c=>c}:u)}function St(s,n){return s.levels?{...s,levels:s.levels.map(r=>({...r,scales:tt(r.scales,n)}))}:s}const Mt=s=>s.split("-").map(n=>n?n.charAt(0).toUpperCase()+n.slice(1):"").join(""),Et=[{unit:"month",step:1,format:"%F %Y"},{unit:"day",step:1,format:"%j"}],jt=e.forwardRef(function({taskTemplate:n=null,markers:r=[],taskTypes:u=de.defaultTaskTypes,tasks:c=[],selected:R=[],activeTask:l=null,links:T=[],scales:p=Et,columns:k=de.defaultColumns,start:d=null,end:$=null,lengthUnit:A="day",durationUnit:j="day",cellWidth:G=100,cellHeight:a=38,scaleHeight:L=36,readonly:V=!1,cellBorders:N="full",zoom:Y=!1,baselines:b=!1,highlightTime:P=null,init:m=null,autoScale:U=!0,unscheduledTasks:B=!1,criticalPath:Z=null,schedule:y={type:"forward"},projectStart:le=null,projectEnd:q=null,calendar:C=null,undo:g=!1,splitTasks:H=!1,multiTaskRows:ee=!1,marqueeSelect:J=!1,...te},x){const I=e.useRef();I.current=te;const X=e.useMemo(()=>new de.DataStore(v.writable),[]),W=e.useMemo(()=>({...Xe.en,...Oe.en}),[]),fe=e.useContext(xe.context.i18n),se=e.useMemo(()=>fe?fe.extend(W,!0):ge.locale(W),[fe,W]),ne=e.useMemo(()=>se.getRaw().calendar,[se]),me=e.useMemo(()=>{let oe={zoom:St(Y,ne),scales:tt(p,ne),columns:Ct(k,ne),links:de.normalizeLinks(T),cellWidth:G};return oe.zoom&&(oe={...oe,...de.normalizeZoom(oe.zoom,Tt(ne,se.getGroup("gantt")),oe.scales,G)}),oe},[Y,p,k,T,G,ne,se]),Te=e.useRef(null);Te.current!==c&&(de.parseTaskDates(c,{durationUnit:j,splitTasks:H,calendar:C}),Te.current=c),e.useEffect(()=>{de.parseTaskDates(c,{durationUnit:j,splitTasks:H,calendar:C})},[c,j,C,H]);const ye=e.useMemo(()=>{if(!ee)return null;const oe=new Map,f=new Map,F=ae=>{ae.forEach(D=>{const we=D.row??D.id;f.set(D.id,we),oe.has(we)||oe.set(we,[]),oe.get(we).push(D.id),D.data&&D.data.length>0&&F(D.data)})};return F(c),{rowMap:oe,taskRows:f}},[c,ee]),S=e.useMemo(()=>X.in,[X]),K=e.useRef(null);K.current===null&&(K.current=new nt.EventBusRouter((oe,f)=>{const F="on"+Mt(oe);I.current&&I.current[F]&&I.current[F](f)}),S.setNext(K.current));const[ie,ve]=e.useState(null),Ce=e.useRef(null);Ce.current=ie;const ke=e.useMemo(()=>({getState:X.getState.bind(X),getReactiveState:X.getReactive.bind(X),getStores:()=>({data:X}),exec:S.exec,setNext:oe=>(K.current=K.current.setNext(oe),K.current),intercept:S.intercept.bind(S),on:S.on.bind(S),detach:S.detach.bind(S),getTask:X.getTask.bind(X),serialize:X.serialize.bind(X),getTable:oe=>oe?new Promise(f=>setTimeout(()=>f(Ce.current),1)):Ce.current,getHistory:()=>X.getHistory()}),[X,S]);e.useImperativeHandle(x,()=>({...ke}),[ke]);const Ee=e.useRef(0);e.useEffect(()=>{Ee.current?X.init({tasks:c,links:me.links,start:d,columns:me.columns,end:$,lengthUnit:A,cellWidth:me.cellWidth,cellHeight:a,scaleHeight:L,scales:me.scales,taskTypes:u,zoom:me.zoom,selected:R,activeTask:l,baselines:b,autoScale:U,unscheduledTasks:B,markers:r,durationUnit:j,criticalPath:Z,schedule:y,projectStart:le,projectEnd:q,calendar:C,undo:g,_weekStart:ne.weekStart,splitTasks:H}):m&&m(ke),Ee.current++},[ke,m,c,me,d,$,A,a,L,u,R,l,b,U,B,r,j,Z,y,le,q,C,g,ne,H,X]),Ee.current===0&&X.init({tasks:c,links:me.links,start:d,columns:me.columns,end:$,lengthUnit:A,cellWidth:me.cellWidth,cellHeight:a,scaleHeight:L,scales:me.scales,taskTypes:u,zoom:me.zoom,selected:R,activeTask:l,baselines:b,autoScale:U,unscheduledTasks:B,markers:r,durationUnit:j,criticalPath:Z,schedule:y,projectStart:le,projectEnd:q,calendar:C,undo:g,_weekStart:ne.weekStart,splitTasks:H});const je=e.useMemo(()=>C?(oe,f)=>f=="day"&&!C.getDayHours(oe)||f=="hour"&&!C.getDayHours(oe)?"wx-weekend":"":P,[C,P]);return o.jsx(xe.context.i18n.Provider,{value:se,children:o.jsx(Ie.Provider,{value:ke,children:o.jsx(kt,{taskTemplate:n,readonly:V,cellBorders:N,highlightTime:je,onTableAPIChange:ve,multiTaskRows:ee,rowMapping:ye,marqueeSelect:J})})})});function Rt({api:s=null,items:n=[]}){const r=e.useContext(xe.context.i18n),u=e.useMemo(()=>r||ge.locale(Oe.en),[r]),c=e.useMemo(()=>u.getGroup("gantt"),[u]),R=v.useStoreLater(s,"_selected"),l=v.useStoreLater(s,"undo"),T=v.useStoreLater(s,"history"),p=v.useStoreLater(s,"splitTasks"),k=["undo","redo"],d=e.useMemo(()=>{const A=de.getToolbarButtons({undo:!0,splitTasks:!0});return(n.length?n:de.getToolbarButtons({undo:l,splitTasks:p})).map(G=>{let a={...G,disabled:!1};return a.handler=de.isHandledAction(A,a.id)?L=>de.handleAction(s,L.id,null,c):a.handler,a.text&&(a.text=c(a.text)),a.menuText&&(a.menuText=c(a.menuText)),a})},[n,s,c,l,p]),$=e.useMemo(()=>{const A=[];return d.forEach(j=>{const G=j.id;if(G==="add-task")A.push(j);else if(k.includes(G))k.includes(G)&&A.push({...j,disabled:j.isDisabled(T)});else{if(!R?.length||!s)return;A.push({...j,disabled:j.isDisabled&&R.some(a=>j.isDisabled(a,s.getState()))})}}),A.filter((j,G)=>{if(s&&j.isHidden)return!R.some(a=>j.isHidden(a,s.getState()));if(j.comp==="separator"){const a=A[G+1];if(!a||a.comp==="separator")return!1}return!0})},[s,R,T,d]);return r?o.jsx(Ye.Toolbar,{items:$}):o.jsx(xe.context.i18n.Provider,{value:u,children:o.jsx(Ye.Toolbar,{items:$})})}const $t=e.forwardRef(function({options:n=[],api:r=null,resolver:u=null,filter:c=null,at:R="point",children:l,onClick:T,css:p},k){const d=e.useRef(null),$=e.useRef(null),A=e.useContext(xe.context.i18n),j=e.useMemo(()=>A||ge.locale({...Oe.en,...Xe.en}),[A]),G=e.useMemo(()=>j.getGroup("gantt"),[j]),a=v.useStoreLater(r,"taskTypes"),L=v.useStoreLater(r,"selected"),V=v.useStoreLater(r,"_selected"),N=v.useStoreLater(r,"splitTasks"),Y=e.useMemo(()=>de.getMenuOptions({splitTasks:!0}),[]);e.useEffect(()=>{r&&(r.on("scroll-chart",()=>{d.current&&d.current.show&&d.current.show()}),r.on("drag-task",()=>{d.current&&d.current.show&&d.current.show()}))},[r]);function b(C){return C.map(g=>(g={...g},g.text&&(g.text=G(g.text)),g.subtext&&(g.subtext=G(g.subtext)),g.data&&(g.data=b(g.data)),g))}function P(){const C=n.length?n:de.getMenuOptions({splitTasks:N}),g=C.find(H=>H.id==="convert-task");return g&&(g.data=[],(a||[]).forEach(H=>{g.data.push(g.dataFactory(H))})),b(C)}const m=e.useMemo(()=>P(),[r,n,a,N,G]),U=e.useMemo(()=>V&&V.length?V:[],[V]),B=e.useCallback((C,g)=>{let H=C?r?.getTask(C):null;if(u){const ee=u(C,g);H=ee===!0?H:ee}if(H){const ee=ge.locateID(g.target,"data-segment");ee!==null?$.current={id:H.id,segmentIndex:ee}:$.current=H.id,(!Array.isArray(L)||!L.includes(H.id))&&r&&r.exec&&r.exec("select-task",{id:H.id})}return H},[r,u,L]),Z=e.useCallback(C=>{const g=C.action;g&&(de.isHandledAction(Y,g.id)&&de.handleAction(r,g.id,$.current,G),T&&T(C))},[r,G,T,Y]),y=e.useCallback((C,g)=>{const H=U.length?U:g?[g]:[];let ee=c?H.every(J=>c(C,J)):!0;if(ee&&(C.isHidden&&(ee=!H.some(J=>C.isHidden(J,r.getState(),$.current))),C.isDisabled)){const J=H.some(te=>C.isDisabled(te,r.getState(),$.current));C.disabled=J}return ee},[c,U,r]);e.useImperativeHandle(k,()=>({show:(C,g)=>{d.current&&d.current.show&&d.current.show(C,g)}}));const le=e.useCallback(C=>{d.current&&d.current.show&&d.current.show(C)},[]),q=o.jsxs(o.Fragment,{children:[o.jsx(ot.ContextMenu,{filter:y,options:m,dataKey:"id",resolver:B,onClick:Z,at:R,ref:d,css:p}),o.jsx("span",{onContextMenu:le,"data-menu-ignore":"true",children:typeof l=="function"?l():l})]});if(!A&&xe.context.i18n?.Provider){const C=xe.context.i18n.Provider;return o.jsx(C,{value:j,children:q})}return q});function Lt({api:s,autoSave:n,onLinksChange:r}){const c=e.useContext(xe.context.i18n).getGroup("gantt"),R=v.useStore(s,"activeTask"),l=v.useStore(s,"_activeTask"),T=v.useStore(s,"_links"),p=v.useStore(s,"schedule"),k=v.useStore(s,"unscheduledTasks"),[d,$]=e.useState();function A(){if(R){const L=T.filter(N=>N.target==R).map(N=>({link:N,task:s.getTask(N.source)})),V=T.filter(N=>N.source==R).map(N=>({link:N,task:s.getTask(N.target)}));return[{title:c("Predecessors"),data:L},{title:c("Successors"),data:V}]}}e.useEffect(()=>{$(A())},[R,T]);const j=e.useMemo(()=>[{id:"e2s",label:c("End-to-start")},{id:"s2s",label:c("Start-to-start")},{id:"e2e",label:c("End-to-end")},{id:"s2e",label:c("Start-to-end")}],[c]);function G(L){n?s.exec("delete-link",{id:L}):($(V=>(V||[]).map(N=>({...N,data:N.data.filter(Y=>Y.link.id!==L)}))),r&&r({id:L,action:"delete-link",data:{id:L}}))}function a(L,V){n?s.exec("update-link",{id:L,link:V}):($(N=>(N||[]).map(Y=>({...Y,data:Y.data.map(b=>b.link.id===L?{...b,link:{...b.link,...V}}:b)}))),r&&r({id:L,action:"update-link",data:{id:L,link:V}}))}return o.jsx(o.Fragment,{children:(d||[]).map((L,V)=>L.data.length?o.jsx("div",{className:"wx-j93aYGQf wx-links",children:o.jsx(xe.Field,{label:L.title,position:"top",children:o.jsx("table",{children:o.jsx("tbody",{children:L.data.map(N=>o.jsxs("tr",{children:[o.jsx("td",{className:"wx-j93aYGQf wx-cell",children:o.jsx("div",{className:"wx-j93aYGQf wx-task-name",children:N.task.text||""})}),p?.auto&&N.link.type==="e2s"?o.jsx("td",{className:"wx-j93aYGQf wx-cell wx-link-lag",children:o.jsx(xe.Text,{type:"number",placeholder:c("Lag"),value:N.link.lag,disabled:k&&l?.unscheduled,onChange:Y=>{Y.input||a(N.link.id,{lag:Y.value})}})}):null,o.jsx("td",{className:"wx-j93aYGQf wx-cell",children:o.jsx("div",{className:"wx-j93aYGQf wx-wrapper",children:o.jsx(xe.Combo,{value:N.link.type,placeholder:c("Select link type"),options:j,onChange:Y=>a(N.link.id,{type:Y.value}),children:({option:Y})=>Y.label})})}),o.jsx("td",{className:"wx-j93aYGQf wx-cell",children:o.jsx("i",{className:"wx-j93aYGQf wxi-delete wx-delete-icon",onClick:()=>G(N.link.id),role:"button"})})]},N.link.id))})})})},V):null)})}function Nt(s){const{value:n,time:r,format:u,onchange:c,onChange:R,...l}=s,T=R??c;function p(k){const d=new Date(k.value);d.setHours(n.getHours()),d.setMinutes(n.getMinutes()),T&&T({value:d})}return o.jsxs("div",{className:"wx-hFsbgDln date-time-controll",children:[o.jsx(xe.DatePicker,{...l,value:n,onChange:p,format:u,buttons:["today"],clear:!1}),r?o.jsx(xe.TimePicker,{value:n,onChange:T,format:u}):null]})}Ne.registerEditorItem("select",xe.RichSelect);Ne.registerEditorItem("date",Nt);Ne.registerEditorItem("twostate",xe.TwoState);Ne.registerEditorItem("slider",xe.Slider);Ne.registerEditorItem("counter",xe.Counter);Ne.registerEditorItem("links",Lt);function It({api:s,items:n=[],css:r="",layout:u="default",readonly:c=!1,placement:R="sidebar",bottomBar:l=!0,topBar:T=!0,autoSave:p=!0,focus:k=!1,hotkeys:d={}}){const $=e.useContext(xe.context.i18n),A=e.useMemo(()=>$||ge.locale({...Oe.en,...Xe.en}),[$]),j=e.useMemo(()=>A.getGroup("gantt"),[A]),G=A.getRaw(),a=e.useMemo(()=>{const f=G.gantt?.dateFormat||G.formats?.dateFormat;return ge.dateToString(f,G.calendar)},[G]),L=e.useMemo(()=>{if(T===!0&&!c){const f=[{comp:"icon",icon:"wxi-close",id:"close"},{comp:"spacer"},{comp:"button",type:"danger",text:j("Delete"),id:"delete"}];return p?{items:f}:{items:[...f,{comp:"button",type:"primary",text:j("Save"),id:"save"}]}}return T},[T,c,p,j]),[V,N]=e.useState(!1),Y=e.useMemo(()=>V?"wx-full-screen":"",[V]),b=e.useCallback(f=>{N(f)},[]);e.useEffect(()=>{const f=et(b);return f.observe(),()=>{f.disconnect()}},[b]);const P=v.useStore(s,"_activeTask"),m=v.useStore(s,"activeTask"),U=v.useStore(s,"unscheduledTasks"),B=v.useStore(s,"links"),Z=v.useStore(s,"splitTasks"),y=e.useMemo(()=>Z&&m?.segmentIndex,[Z,m]),le=e.useMemo(()=>y||y===0,[y]),q=e.useMemo(()=>de.getEditorItems({unscheduledTasks:U}),[U]),C=v.useStore(s,"undo"),[g,H]=e.useState({}),[ee,J]=e.useState(null),[te,x]=e.useState(),[I,X]=e.useState(null),W=v.useStore(s,"taskTypes"),fe=e.useMemo(()=>{if(!P)return null;let f;if(le&&P.segments?f={...P.segments[y]}:f={...P},c){let F={parent:f.parent};return q.forEach(({key:ae,comp:D})=>{if(D!=="links"){const we=f[ae];D==="date"&&we instanceof Date?F[ae]=a(we):D==="slider"&&ae==="progress"?F[ae]=`${we}%`:F[ae]=we}}),F}return f||null},[P,le,y,c,q,a]);e.useEffect(()=>{x(fe)},[fe]),e.useEffect(()=>{H({}),X(null),J(null)},[m]);function se(f,F){return f.map(ae=>{const D={...ae};if(ae.config&&(D.config={...D.config}),D.comp==="links"&&s&&(D.api=s,D.autoSave=p,D.onLinksChange=Te),D.comp==="select"&&D.key==="type"){const we=D.options??(W||[]);D.options=we.map(Le=>({...Le,label:j(Le.label)}))}return D.comp==="slider"&&D.key==="progress"&&(D.labelTemplate=we=>`${j(D.label)} ${we}%`),D.label&&(D.label=j(D.label)),D.config?.placeholder&&(D.config.placeholder=j(D.config.placeholder)),F&&(D.isDisabled&&D.isDisabled(F,s.getState())?D.disabled=!0:delete D.disabled),D})}const ne=e.useMemo(()=>{let f=n.length?n:q;return f=se(f,te),te?f.filter(F=>!F.isHidden||!F.isHidden(te,s.getState())):f},[n,q,te,W,j,s,p]),me=e.useMemo(()=>ne.map(f=>f.key),[ne]);function Te({id:f,action:F,data:ae}){H(D=>({...D,[f]:{action:F,data:ae}}))}const ye=e.useCallback(()=>{for(let f in g)if(B.byId(f)){const{action:F,data:ae}=g[f];s.exec(F,ae)}},[s,g,B]),S=e.useCallback(()=>{const f=m?.id||m;if(le){if(P?.segments){const F=P.segments.filter((ae,D)=>D!==y);s.exec("update-task",{id:f,task:{segments:F}})}}else s.exec("delete-task",{id:f})},[s,m,le,P,y]),K=e.useCallback(()=>{s.exec("show-editor",{id:null})},[s]),ie=e.useCallback(f=>{const{item:F,changes:ae}=f;F.id==="delete"&&S(),F.id==="save"&&(ae.length?K():ye()),F.comp&&K()},[s,m,p,ye,S,K]),ve=e.useCallback((f,F,ae)=>(U&&f.type==="summary"&&(f.unscheduled=!1),de.prepareEditTask(f,s.getState(),F),ae||J(!1),f),[U,s]),Ce=e.useCallback(f=>{f={...f,unscheduled:U&&f.unscheduled&&f.type!=="summary"},delete f.links,delete f.data,(me.indexOf("duration")===-1||f.segments&&!f.duration)&&delete f.duration;const F={id:m?.id||m,task:f,...le&&{segmentIndex:y}};p&&ee&&(F.inProgress=ee),s.exec("update-task",F),p||ye()},[s,m,U,p,ye,me,le,y,ee]),ke=e.useCallback(f=>{let{update:F,key:ae,input:D}=f;if(D&&J(!0),f.update=ve({...F},ae,D),!p)x(f.update);else if(!I&&!D){const we=ne.find(ze=>ze.key===ae),Le=F[ae];(!we.validation||we.validation(Le))&&(!we.required||Le)&&Ce(f.update)}},[p,ve,I,ne,Ce]),Ee=e.useCallback(f=>{p||Ce(f.values)},[p,Ce]),je=e.useCallback(f=>{X(f.errors)},[]),oe=e.useMemo(()=>C?{"ctrl+z":f=>{f.preventDefault(),s.exec("undo")},"ctrl+y":f=>{f.preventDefault(),s.exec("redo")}}:{},[C,s]);return fe?o.jsx(xe.Locale,{children:o.jsx(Ne.Editor,{css:`wx-XkvqDXuw wx-gantt-editor ${Y} ${r}`,items:ne,values:fe,topBar:L,bottomBar:l,placement:R,layout:u,readonly:c,autoSave:p,focus:k,onAction:ie,onSave:Ee,onValidation:je,onChange:ke,hotkeys:d&&{...oe,...d}})}):null}const Dt=({children:s,columns:n=null,api:r})=>{const[u,c]=e.useState(null);return e.useEffect(()=>{r&&r.getTable(!0).then(c)},[r]),o.jsx(Je.HeaderMenu,{api:u,columns:n,children:s})};function At(s){const{api:n,content:r,children:u}=s,c=e.useRef(null),R=e.useRef(null),[l,T]=e.useState({}),[p,k]=e.useState(null),[d,$]=e.useState({});function A(b){for(;b;){if(b.getAttribute){const P=b.getAttribute("data-tooltip-id"),m=b.getAttribute("data-tooltip-at"),U=b.getAttribute("data-tooltip");if(P||U)return{id:P,tooltip:U,target:b,at:m}}b=b.parentNode}return{id:null,tooltip:null,target:null,at:null}}e.useEffect(()=>{const b=R.current;if(b&&d&&(d.text||r)){const P=b.getBoundingClientRect();let m=!1,U=d.left,B=d.top;P.right>=l.right&&(U=l.width-P.width-5,m=!0),P.bottom>=l.bottom&&(B=d.top-(P.bottom-l.bottom+2),m=!0),m&&$(Z=>Z&&{...Z,left:U,top:B})}},[d,l,r]);const j=e.useRef(null),G=300,a=b=>{clearTimeout(j.current),j.current=setTimeout(()=>{b()},G)};function L(b){let{id:P,tooltip:m,target:U,at:B}=A(b.target);if($(null),k(null),!m)if(P)m=N(P);else{clearTimeout(j.current);return}const Z=b.clientX;a(()=>{P&&k(V(Y(P)));const y=U.getBoundingClientRect(),le=c.current,q=le?le.getBoundingClientRect():{top:0,left:0,right:0,bottom:0,width:0,height:0};let C,g;B==="left"?(C=y.top+5-q.top,g=y.right+5-q.left):(C=y.top+y.height-q.top,g=Z-q.left),T(q),$({top:C,left:g,text:m})})}function V(b){return n?.getTask(Y(b))||null}function N(b){return V(b)?.text||""}function Y(b){const P=parseInt(b);return isNaN(P)?b:P}return o.jsxs("div",{className:"wx-KG0Lwsqo wx-tooltip-area",ref:c,onMouseMove:L,children:[d&&(d.text||r)?o.jsx("div",{className:"wx-KG0Lwsqo wx-gantt-tooltip",ref:R,style:{top:`${d.top}px`,left:`${d.left}px`},children:r?o.jsx(r,{data:p}):d.text?o.jsx("div",{className:"wx-KG0Lwsqo wx-gantt-tooltip-text",children:d.text}):null}):null,u]})}function Ht({fonts:s=!0,children:n}){return n?o.jsx(xe.Material,{fonts:s,children:n()}):o.jsx(xe.Material,{fonts:s})}function zt({fonts:s=!0,children:n}){return n?o.jsx(xe.Willow,{fonts:s,children:n}):o.jsx(xe.Willow,{fonts:s})}function Pt({fonts:s=!0,children:n}){return n?o.jsx(xe.WillowDark,{fonts:s,children:n}):o.jsx(xe.WillowDark,{fonts:s})}Object.defineProperty(exports,"defaultColumns",{enumerable:!0,get:()=>de.defaultColumns});Object.defineProperty(exports,"defaultEditorItems",{enumerable:!0,get:()=>de.defaultEditorItems});Object.defineProperty(exports,"defaultMenuOptions",{enumerable:!0,get:()=>de.defaultMenuOptions});Object.defineProperty(exports,"defaultTaskTypes",{enumerable:!0,get:()=>de.defaultTaskTypes});Object.defineProperty(exports,"defaultToolbarButtons",{enumerable:!0,get:()=>de.defaultToolbarButtons});Object.defineProperty(exports,"getEditorItems",{enumerable:!0,get:()=>de.getEditorItems});Object.defineProperty(exports,"getMenuOptions",{enumerable:!0,get:()=>de.getMenuOptions});Object.defineProperty(exports,"getToolbarButtons",{enumerable:!0,get:()=>de.getToolbarButtons});Object.defineProperty(exports,"registerScaleUnit",{enumerable:!0,get:()=>de.registerScaleUnit});Object.defineProperty(exports,"registerEditorItem",{enumerable:!0,get:()=>Ne.registerEditorItem});exports.ContextMenu=$t;exports.Editor=It;exports.Gantt=jt;exports.HeaderMenu=Dt;exports.Material=Ht;exports.Toolbar=Rt;exports.Tooltip=At;exports.Willow=zt;exports.WillowDark=Pt;
//# sourceMappingURL=index.cjs.map
